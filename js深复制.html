<html>
<head>
    <title>Prototype Pattern Example 7</title>
    <script type="text/javascript">
        function clone(target) {   
        var buf;   
        if (target instanceof Array) {   
            buf = [];  //创建一个空的数组 
            var i = target.length;   
            while (i--) {   
                buf[i] = target[i];   
            }   
            return buf;
        }else if (target instanceof Object){   
            buf = {};  //创建一个空对象 
            for (var k in target) {  //为这个对象添加新的属性 
                buf[k] = target[k];   
            }   
            return buf;   
        }else{   
            return target;   
        }   
    }
        //测试对象的深复制
        var person1 = {
            name:"Ada",
            age:19
        }
        var person2 = clone(person1);
        
        person2.name="Jack";
        alert(person2.name);
        alert(person1.name);

        //  测试数组的深复制
        // var arr1 = [1,4,6,9];
        // var arr2 = clone(arr1);
        // arr2[2]=16;
        // arr1[0]=99;
        // alert(arr1);
        // alert(arr2);
    </script>
</head>
<body>

</body>
</html>